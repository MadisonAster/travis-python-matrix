# Taken from: https://github.com/brandtbucher/travis-python-matrix

# CPython 3.5.2 / CPython 3.6.8 / CPython 3.7.3
# Ubuntu 16.04 (Xenial Xerus) / Windows Server 1803 / macOS 10.14 (Mojave)

# Just comment out any matrix entries you don't need.

language: shell

matrix:

  include:
  
    - name: CPython 3.5.2 on Ubuntu 12.04 (Precise Pangolin)
      python: 3.5.2
      dist: precise
      language: python

    - name: CPython 3.6.8 on Ubuntu 12.04 (Precise Pangolin)
      dist: precise
      before_install: wget https://www.python.org/ftp/python/3.6.8/Python-3.6.8.tgz && tar -xvf Python-3.6.8.tgz && cd Python-3.6.8 && sudo make install

    - name: CPython 3.7.3 on Ubuntu 12.04 (Precise Pangolin)
      dist: precise
      before_install: wget https://www.python.org/ftp/python/3.7.3/Python-3.7.3.tgz && tar -xvf Python-3.7.3.tgz && cd Python-3.7.3 && ./configure && sudo make install
  
    - name: CPython 3.5.2 on Ubuntu 14.04 (Trusty Tahr)
      python: 3.5.2
      dist: trusty
      language: python

    - name: CPython 3.6.8 on Ubuntu 14.04 (Trusty Tahr)
      dist: trusty
      before_install: wget https://www.python.org/ftp/python/3.6.8/Python-3.6.8.tgz && tar -xvf Python-3.6.8.tgz && cd Python-3.6.8 && sudo make install

    - name: CPython 3.7.3 on Ubuntu 14.04 (Trusty Tahr)
      dist: trusty
      before_install: wget https://www.python.org/ftp/python/3.7.3/Python-3.7.3.tgz && tar -xvf Python-3.7.3.tgz && cd Python-3.7.3 && ./configure && sudo make install
  
    - name: CPython 3.5.2 on Ubuntu 16.04 (Xenial Xerus)
      python: 3.5.2
      dist: xenial
      language: python
      
    - name: CPython 3.6.8 on Ubuntu 16.04 (Xenial Xerus)
      python: 3.6.8
      dist: xenial
      language: python

    - name: CPython 3.7.3 on Ubuntu 16.04 (Xenial Xerus)
      python: 3.7.3
      dist: xenial
      language: python

    - name: CPython 3.5.2 on Windows Server 1803
      os: windows
      before_install: choco install python --version 3.5.2.20161029
      env: PATH=/c/Python35:/c/Python35/Scripts:$PATH

    - name: CPython 3.6.8 on Windows Server 1803
      os: windows
      before_install: choco install python --version 3.6.8
      env: PATH=/c/Python36:/c/Python36/Scripts:$PATH

    - name: CPython 3.7.3 on Windows Server 1803
      os: windows
      before_install: choco install python --version 3.7.3
      env: PATH=/c/Python37:/c/Python37/Scripts:$PATH
      
    - name: CPython 3.5.2 on macOS 10.10 (Yosemite)
      os: osx
      osx_image: xcode6.4
      before_install: brew upgrade pyenv && pyenv install $PYENV_VERSION
      env: PATH=/Users/travis/.pyenv/shims:$PATH PYENV_VERSION=3.5.2

    - name: CPython 3.6.8 on macOS 10.10 (Yosemite)
      os: osx
      osx_image: xcode6.4
      before_install: brew upgrade pyenv && pyenv install $PYENV_VERSION
      env: PATH=/Users/travis/.pyenv/shims:$PATH PYENV_VERSION=3.6.8

    - name: CPython 3.7.3 on macOS 10.10 (Yosemite)
      os: osx
      osx_image: xcode6.4
      before_install: brew upgrade pyenv && pyenv install $PYENV_VERSION
      env: PATH=/Users/travis/.pyenv/shims:$PATH PYENV_VERSION=3.7.3
      
    - name: CPython 3.5.2 on macOS 10.11 (El Capitan)
      os: osx
      osx_image: xcode7.3
      before_install: pyenv install $PYENV_VERSION
      env: PATH=/Users/travis/.pyenv/shims:$PATH PYENV_VERSION=3.5.2

    - name: CPython 3.6.8 on macOS 10.11 (El Capitan)
      os: osx
      osx_image: xcode7.3
      before_install: pyenv install $PYENV_VERSION
      env: PATH=/Users/travis/.pyenv/shims:$PATH PYENV_VERSION=3.6.8

    - name: CPython 3.7.3 on macOS 10.11 (El Capitan)
      os: osx
      osx_image: xcode7.3
      before_install: pyenv install $PYENV_VERSION
      env: PATH=/Users/travis/.pyenv/shims:$PATH PYENV_VERSION=3.7.3
      
    - name: CPython 3.5.2 on macOS 10.12 (Sierra)
      os: osx
      osx_image: xcode9.2
      before_install: brew upgrade pyenv && pyenv install $PYENV_VERSION
      env: PATH=/Users/travis/.pyenv/shims:$PATH PYENV_VERSION=3.5.2

    - name: CPython 3.6.8 on macOS 10.12 (Sierra)
      os: osx
      osx_image: xcode9.2
      before_install: brew upgrade pyenv && pyenv install $PYENV_VERSION
      env: PATH=/Users/travis/.pyenv/shims:$PATH PYENV_VERSION=3.6.8

    - name: CPython 3.7.3 on macOS 10.12 (Sierra)
      os: osx
      osx_image: xcode9.2
      before_install: brew upgrade pyenv && pyenv install $PYENV_VERSION
      env: PATH=/Users/travis/.pyenv/shims:$PATH PYENV_VERSION=3.7.3
    
    - name: CPython 3.5.2 on macOS 10.13 (High Sierra)
      os: osx
      osx_image: xcode10.1
      before_install: brew upgrade pyenv && pyenv install $PYENV_VERSION
      env: PATH=/Users/travis/.pyenv/shims:$PATH PYENV_VERSION=3.5.2

    - name: CPython 3.6.8 on macOS 10.13 (High Sierra)
      os: osx
      osx_image: xcode10.1
      before_install: brew upgrade pyenv && pyenv install $PYENV_VERSION
      env: PATH=/Users/travis/.pyenv/shims:$PATH PYENV_VERSION=3.6.8

    - name: CPython 3.7.3 on macOS 10.13 (High Sierra)
      os: osx
      osx_image: xcode10.1
      before_install: brew upgrade pyenv && pyenv install $PYENV_VERSION
      env: PATH=/Users/travis/.pyenv/shims:$PATH PYENV_VERSION=3.7.3

    - name: CPython 3.5.2 on macOS 10.14 (Mojave)
      os: osx
      osx_image: xcode10.2
      before_install: CFLAGS="-I$(xcrun --show-sdk-path)/usr/include" pyenv install $PYENV_VERSION
      env: PATH=/Users/travis/.pyenv/shims:$PATH PYENV_VERSION=3.5.2

    - name: CPython 3.6.8 on macOS 10.14 (Mojave)
      os: osx
      osx_image: xcode10.2
      before_install: CFLAGS="-I$(xcrun --show-sdk-path)/usr/include" pyenv install $PYENV_VERSION
      env: PATH=/Users/travis/.pyenv/shims:$PATH PYENV_VERSION=3.6.8

    - name: CPython 3.7.3 on macOS 10.14 (Mojave)
      os: osx
      osx_image: xcode10.2
      before_install: CFLAGS="-I$(xcrun --show-sdk-path)/usr/include" pyenv install $PYENV_VERSION
      env: PATH=/Users/travis/.pyenv/shims:$PATH PYENV_VERSION=3.7.3

# Change anything below to suit your CI needs.
# Python and pip exectuables are just named "python" and "pip" on all platforms!

install: pip --version

script: python --version
